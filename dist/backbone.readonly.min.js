!function(root,factory){"object"==typeof exports&&"object"==typeof module?module.exports=factory(require("backbone"),require("underscore")):"function"==typeof define&&define.amd?define(["backbone","underscore"],factory):"object"==typeof exports?exports["backbone.readonly"]=factory(require("backbone"),require("underscore")):root["backbone.readonly"]=factory(root.Backbone,root._)}(this,function(__WEBPACK_EXTERNAL_MODULE_1__,__WEBPACK_EXTERNAL_MODULE_3__){return function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:!1};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.loaded=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.p="",__webpack_require__(0)}([function(module,exports,__webpack_require__){var Backbone=__webpack_require__(1),ReadOnly=Backbone.ReadOnly={Model:__webpack_require__(2),Collection:__webpack_require__(4)};module.exports=ReadOnly},function(module,exports){module.exports=__WEBPACK_EXTERNAL_MODULE_1__},function(module,exports,__webpack_require__){var Backbone=__webpack_require__(1),_=__webpack_require__(3),isNotImmutable=function(options,methodName){if(options=options||{},options.overrideImmutability!==!0)throw new Error("Attempting to "+methodName+" a model that is immutable. Please clone this for a mutable version.");return!0};module.exports=Backbone.Model.extend({constructor:function(attributes,options){options=options||{},options.overrideImmutability=!0,Backbone.Model.call(this,attributes,options)},set:function(key,val,options){return options=options||{},_.isEmpty(key)?this:("object"==typeof key&&(options=val||{}),isNotImmutable(options,"set")?Backbone.Model.prototype.set.apply(this,arguments):void 0)},fetch:function(options){return options=options||{},options.overrideImmutability=!0,Backbone.Model.prototype.fetch.call(this,options)},destroy:function(options){return isNotImmutable(options,"destroy")?Backbone.Model.prototype.clear.call(this,options):void 0},clear:function(options){return isNotImmutable(options,"clear")?Backbone.Model.prototype.clear.call(this,options):void 0}})},function(module,exports){module.exports=__WEBPACK_EXTERNAL_MODULE_3__},function(module,exports,__webpack_require__){var Backbone=__webpack_require__(1),ReadOnlyModel=(__webpack_require__(3),__webpack_require__(2)),isNotImmutable=function(options,methodName){if(options=options||{},options.overrideImmutability!==!0)throw new Error("Attempting to "+methodName+" a collection that is immutable. Please clone this for a mutable version.");return!0};module.exports=Backbone.Collection.extend({constructor:function(models,options){options=options||{},options.overrideImmutability=!0,"model"in this||options.model||(options.model=ReadOnlyModel),Backbone.Collection.call(this,models,options)},fetch:function(options){return options=options||{},options.overrideImmutability=!0,Backbone.Collection.prototype.fetch.call(this,options)},remove:function(models,options){return isNotImmutable(options,"remove")?Backbone.Collection.prototype.remove.apply(this,arguments):void 0},set:function(models,options){return isNotImmutable(options,"set")?Backbone.Collection.prototype.set.apply(this,arguments):void 0},reset:function(models,options){return isNotImmutable(options,"reset")?Backbone.Collection.prototype.reset.apply(this,arguments):void 0},create:function(model,options){return isNotImmutable(options,"create")?Backbone.Collection.prototype.create.apply(this,arguments):void 0}})}])});
